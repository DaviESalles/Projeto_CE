<h2>Editar Cliente</h2>

<!-- Formulário para editar os dados de um cliente existente -->
<form action="/clienteUpdate" method="post">
    <!-- Campo oculto para armazenar o ID do cliente -->
    <input type="hidden" name="id" value={{cliente.id}}>

    <!-- Campo para editar o login do cliente -->
    Login: <input type="text" name="login" value="{{cliente.login}}">
    <br> <br>

    <!-- Campo para editar a senha do cliente -->
    Senha: <input type="password" name="senha" value="{{cliente.senha}}">
    <br> <br>

    <!-- Campo para editar o tipo do cliente -->
    Tipo: <input type="text" name="tipo" value="{{cliente.tipo}}">
    <br> <br>

    <!-- Campo para editar o cpf do cliente -->
    CPF: <input type="text" name="cpf" id="cpf" value="{{cliente.cpf}}">
    <br> <br>

    <!-- Campo para editar o cpf do cliente -->
    Endereço: <input type="text" name="endereco" value="{{cliente.endereco}}">
    <br> <br>

    <!-- Campo para editar o cpf do cliente -->
    Produto Preferido: <input type="text" name="produto_preferido" value="{{cliente.produto_preferido}}">
    <br> <br>

    <!-- Botão para enviar o formulário e atualizar os dados -->
    <input type="submit" value="Editar">
</form>


{{!-- máscara do cpf --}}

<script>
    document.getElementById('cpf').addEventListener('input', function (e) {
        let value = e.target.value.replace(/\D/g, ''); // remove tudo que não for número
        value = value.slice(0, 11); // limita a 11 dígitos

        // aplica a máscara: 000.000.000-00
        if (value.length >= 3) value = value.replace(/^(\d{3})(\d)/, '$1.$2');
        if (value.length >= 6) value = value.replace(/^(\d{3})\.(\d{3})(\d)/, '$1.$2.$3');
        if (value.length >= 9) value = value.replace(/^(\d{3})\.(\d{3})\.(\d{3})(\d)/, '$1.$2.$3-$4');

        e.target.value = value;
    });
</script>
